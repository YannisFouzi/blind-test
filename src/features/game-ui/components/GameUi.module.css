.workSelector {
  container-type: inline-size;
  container-name: work-selector;
  width: 100%;
  --work-selector-max-width: 56rem;
  --work-selector-actions-height: clamp(120px, 18vh, 180px);
}

@container work-selector (width < 1024px) {
  .workSelector {
    /* Keep revealed footer + CTA visible on tablet/mobile without scrolling. */
    --work-selector-actions-height: clamp(80px, 12vh, 104px);
  }
}

.workSelectorGrid,
.workSelectorActions {
  width: min(100%, var(--work-selector-max-width));
  margin-left: auto;
  margin-right: auto;
}

.workSelectorActions {
  display: grid;
  place-items: center;
  height: var(--work-selector-actions-height);
  min-height: var(--work-selector-actions-height);
}

.workSelectorActionsLayer {
  grid-area: 1 / 1;
}

.workSelectorActionsLayerHidden {
  visibility: hidden;
  opacity: 0;
  pointer-events: none;
}

.workSelectorActionsLayerVisible {
  visibility: visible;
  opacity: 1;
}

.playerActionFloat {
  bottom: 8.5rem;
}

@media (min-height: 701px) {
  .playerActionFloat {
    bottom: 12.5rem;
  }
}

.uniformCardGrid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  --work-grid-gap: clamp(0.75rem, 1.8vh, 1.5rem);
  gap: var(--work-grid-gap);
}

.uniformCard {
  height: clamp(96px, 12vh, 128px);
  min-height: clamp(96px, 12vh, 128px);
  max-height: clamp(96px, 12vh, 128px);
}

@container work-selector (width < 1024px) {
  .uniformCard {
    height: clamp(68px, 10.5vh, 84px);
    min-height: clamp(68px, 10.5vh, 84px);
    max-height: clamp(68px, 10.5vh, 84px);
  }
}

.uniformCardTitle {
  font-size: clamp(0.85rem, 1.6vh, 1rem);
  line-height: 1.2;
  word-break: break-word;
  hyphens: auto;
  text-align: center;
  overflow: hidden;
}

@media (min-width: 1024px) {
  /* Dense (7/8 cards): shrink the action + cards so everything fits above the player. */
  .workSelector[data-density="dense"] {
    --work-selector-actions-height: clamp(88px, 12vh, 124px);
  }

  .workSelector[data-density="dense"] .workSelectorActions {
    /* Remove the extra top/bottom padding created by centering inside a fixed-height action slot. */
    place-items: start center;
  }

  .workSelector[data-density="dense"] :global(.game-action-button--dense) {
    padding: 0.55rem 1.4rem !important;
    font-size: 0.9rem !important;
    line-height: 1.1;
  }

  .workSelector[data-density="dense"] .uniformCard {
    height: clamp(84px, 10vh, 110px);
    min-height: clamp(84px, 10vh, 110px);
    max-height: clamp(84px, 10vh, 110px);
  }
}

.workCard {
  position: relative;
  border-radius: 18px;
  border: 3px solid #1B1B1B;
  background: #FFFFFF;
  box-shadow: 4px 4px 0 #1B1B1B;
  overflow: hidden;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.workCardActive {
  border-color: #1B1B1B;
  background: #FFF3B8;
  box-shadow: 6px 6px 0 #1B1B1B;
}

.workCardInteractive {
  cursor: var(--cursor-pointer);
}

.workCardInteractive:hover {
  transform: translate(2px, 2px);
  box-shadow: none;
}

.workCardInteractive:active {
  box-shadow: inset 4px 4px 0 rgba(10, 11, 14, 0.45);
}

@media (hover: hover) {
  .workCardInteractive:active {
    transform: translate(2px, 2px);
  }
}

.workCardTitleActive {
  color: #1B1B1B;
}

.workCardDefault {
  padding: 1rem;
}

.workCardStacked {
  padding: 0 clamp(0.6rem, 2vw, 1rem);
  --work-card-band-height: clamp(1.8rem, 3vh, 2.4rem);
}

.workCardContent {
  position: relative;
  z-index: 10;
  text-align: center;
  width: 100%;
  height: 100%;
}

.workCardContentDefault {
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.workCardContentStacked {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-evenly;
}

.workCardHeader,
.workCardFooter {
  display: flex;
  align-items: center;
  justify-content: center;
  height: var(--work-card-band-height);
  min-height: var(--work-card-band-height);
}

.workCardHeaderDots {
  margin-bottom: 0;
}

@media (max-width: 1023px) {
  .workCardStacked {
    --work-card-band-height: clamp(1.45rem, 2.2vh, 1.85rem);
  }

  .workCardStacked .uniformCardTitle {
    line-height: 1.15;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    padding-bottom: 0.14em;
  }
}

@media (max-height: 700px) {
  .workCardStacked {
    --work-card-band-height: clamp(1.4rem, 2.6vh, 1.9rem);
  }

  .workCardStacked .uniformCardTitle {
    font-size: 0.78rem;
    line-height: 1.15;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    padding-bottom: 0.08em;
  }
}

@container work-selector (width < 1024px) {
  .uniformCardGrid {
    grid-template-columns: repeat(2, 1fr);
    /* Keep gap + width calculations (centered last card) consistent. */
    --work-grid-gap: 0.5rem;
    gap: var(--work-grid-gap);
  }

  .uniformCardTitle {
    font-size: 0.8125rem;
    line-height: 1.1;
  }
}

@container work-selector (width >= 1024px) {
  .uniformCardGrid {
    grid-template-columns: repeat(3, 1fr);
  }
}

.gridStacked {
  grid-template-columns: 1fr;
}

@container work-selector (width < 1024px) {
  .gridSix {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .gridSeven {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  /* Centrage 7ème card géré par workGridPolicy via inline styles */
}

@media (max-width: 1023px) and (max-height: 700px) {
  .workSelector {
    --work-selector-actions-height: clamp(72px, 11vh, 92px);
  }

  .gridSeven .uniformCard,
  .gridEight .uniformCard {
    height: clamp(62px, 9.8vh, 66px);
    min-height: clamp(62px, 9.8vh, 66px);
    max-height: clamp(62px, 9.8vh, 66px);
  }

  .gridSeven .uniformCardTitle,
  .gridEight .uniformCardTitle {
    font-size: 0.75rem;
    line-height: 1.15;
    padding-bottom: 0.08em;
  }

  .gridSeven .workCardStacked,
  .gridEight .workCardStacked {
    --work-card-band-height: clamp(1.2rem, 2.1vh, 1.5rem);
  }

  .workSelector :global(.game-action-button--dense) {
    padding: 0.45rem 1.1rem !important;
    font-size: 0.8rem !important;
    line-height: 1.1;
  }
}

@media (max-width: 1023px) and (min-height: 701px) {
  .gridSeven .workCardStacked,
  .gridEight .workCardStacked {
    --work-card-band-height: 1.5rem;
  }

  .gridSeven .uniformCardTitle,
  .gridEight .uniformCardTitle {
    line-height: 1.2;
    padding-bottom: 0.16em;
  }
}

@container work-selector (481px <= width < 1024px) {
  .gridFour {
    grid-template-columns: 1fr;
  }
}

.gridFive {
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

/* Centrage 5ème card géré par workGridPolicy via inline styles */

@container work-selector (width >= 1024px) {
  .gridFour {
    grid-template-columns: repeat(2, 1fr);
  }

  /* Centrage cards 7 et 8 géré par workGridPolicy via inline styles */
}

.magicProgressBar {
  position: relative;
  background: #FFFFFF;
  border-radius: 999px;
  border: 2px solid #1B1B1B;
  overflow: hidden;
  box-shadow: 2px 2px 0 #1B1B1B;
}

.magicProgressFill {
  height: 100%;
  border-radius: 999px;
  background: linear-gradient(90deg, #FFDC4D, #FFB703);
  transition: width 0.2s ease;
  position: relative;
}

.playerDome {
  border-radius: 32px 32px 0 0;
}

@media (min-width: 1149px) {
  .playerDome {
    border-radius: 50% 50% 0 0 / 250px 250px 0 0;
  }
}

.playerControlsCompact {
  display: none;
}

.playerControlsStandard {
  display: none;
}

.playerDurationsStandard {
  display: none;
  min-height: 1.5rem;
}

.playerX2Compact {
  display: none;
}

.playerReverseCompact {
  display: none;
}

.playerExtraCompact {
  display: flex;
}

.playerExtraDesktop {
  display: none;
}

.playerCompactButton {
  box-shadow: 4px 4px 0 #0A0B0E;
}

.playerCompactButton:disabled {
  box-shadow: 4px 4px 0 #0A0B0E;
}

@media (max-width: 1023px) {
  .playerControlsCompact {
    display: block;
  }

  .playerX2Compact {
    display: inline-flex;
  }

  .playerReverseCompact {
    display: inline-flex;
  }
}

@media (min-width: 1024px) {
  .playerControlsStandard {
    display: flex;
  }

  .playerDurationsStandard {
    display: flex;
  }

  .playerExtraCompact {
    display: none !important;
  }

  .playerExtraDesktop {
    display: flex !important;
  }
}
